
<!DOCTYPE html>
<html lang="zh" class="dark">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Milthm calculator(Original Reality Calc)</title>
    <link rel="icon" type="image/x-icon" href="./favicon.ico">
    <link rel="stylesheet" href="new_UI.css">

    <link href="./layui/css/layui.css" rel="stylesheet">

    <input type="file" id="fileupLoad" style="display:none;" />
    
    <!-- Chunk: sql_wasm -->
    <script src="./js/plistjs/plist.js"></script>
    <script src="./js/sql-wasm.js"></script>  
    <script>
    document.addEventListener("DOMContentLoaded", function() {
        if (typeof navigator !== "undefined" && typeof navigator.language !== "undefined") {
            let userLang = navigator.language.toLowerCase();
            let langMap = {
                "zh": "index.html",
                "zh-cn": "index.html",
                "zh-tw": "index.html",
                "en": "index_en.html",
                "es": "index_es.html",
                "ja": "index_ja.html",
                "ko": "index_ko.html",
                "ru": "index_ru.html",
                "vi": "index_vi.html"
            };

            // 获取当前页面 URL
            let currentPage = window.location.pathname.split("/").pop();

            // 检查是否已在正确的语言页面
            if (langMap[userLang] && langMap[userLang] !== currentPage) {
                window.location.href = langMap[userLang];
            }
        }
    });
</script>
</head>
<body>
    <script src="./layui/layui.js"></script>
    <script src="./new_ui.js"></script>
    <div class="layui-header header-opa">
        <div class="layui-logo header-opa-bg2" style="padding: 16px;">
            <h1 style="color:turquoise; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); white-space: nowrap;">
                MilthmCalc <span style="font-size: medium;color:gold;">Ultra</span>
            </h1>            
        </div>
    </div>
    <div style="padding: 30px; text-align:center;display:flex;">
        <div class="" style="text-align: left;max-width:1200px;margin:auto;">
            <div class="layui-card rccc">
                <div class="layui-card-header"><h2>Welcome</h2></div>
                <div class="layui-card-body">
                    welcome to MilthmCalc! (Original address: [http://k9.lv/c](http://k9.lv/c))<br>
                    This is a website for calculating Milthm Reality scores. You can import and analyze save files here.<br><hr>
                    User Guide:<a href="https://mkzi-nya.github.io/milthm-calculator-web/usage/usage.html" target="_blank"><span class="superlink">View User Guide.</span></a><hr>
                    <b>QQ Group Chat:</b><a href="https://qm.qq.com/q/Utb6sNDvki" target="_blank"><span class="superlink">Milthm#-1洨巟羣</span></a><hr>
                    <b>Other languages:</b><a href="https://mkzi-nya.github.io/milthm-calculator-web/index.html" target="_blank"><span class="superlink">中文</span></a>  <a href="https://mkzi-nya.github.io/milthm-calculator-web/index_en.html" target="_blank"><span class="superlink">English</span></a>  <a href="https://mkzi-nya.github.io/milthm-calculator-web/index_ja.html" target="_blank"><span class="superlink">日本語</span></a>  <a href="https://mkzi-nya.github.io/milthm-calculator-web/index_ko.html" target="_blank"><span class="superlink">한국어</span></a>  <a href="https://mkzi-nya.github.io/milthm-calculator-web/index_ru.html" target="_blank"><span class="superlink">Русский</span></a> <a href="https://mkzi-nya.github.io/milthm-calculator-web/index_es.html" target="_blank"><span class="superlink">Español</span></a>  <a href="https://mkzi-nya.github.io/milthm-calculator-web/index_vi.html" target="_blank"><span class="superlink">Tiếng Việt</span></a><hr>
                </div>
            </div>
            <div class="layui-card rccc">
                <div class="layui-card-header">Website Information</div>
                <div class="layui-card-body">
                    <!-- 网站作者：<button class="layui-btn layui-btn-primary layui-border-green" onclick="javascript:show_author_info();">查看</button><br> -->
                    Website Author:<span onclick="javascript:show_author_info();" class="superlink">View</span><br>                    
                </div>
            </div>
            <script>
                if (accessCount != null){
                    document.getElementById("accessCount").innerHTML = accessCount;
                }else{
                    document.getElementById("accessCount").innerHTML = "DevMode";
                }
            </script>

            <div class="layui-card rccc">
                <div class="layui-card-header">Data Processing</div>
                <div class="layui-card-body">
                    <textarea id="inputData" placeholder="Paste data here..." class="layui-textarea"></textarea>
                    <hr/>
                    <!-- chunk: data processing operations -->
                    <button class="layui-btn layui-btn-primary layui-btn-disabled layui-btn-sm" onclick="javascript:qqbot_ua();" disabled>QQ Bot Options</button>
                    <hr/>
                    <button class="layui-btn layui-btn-primary layui-border-green" onclick="javascript:processData();">Parse</button>
                    <button class="layui-btn layui-btn-primary layui-border-green" onclick="javascript:upl();">Upload File</button>
                    <button class="layui-btn layui-btn-primary layui-border-green" onclick="javascript:downloadImage();">Generate Image</button>
                    <br>
                    <div id="picgen" style="display: none";>
                        <br>
                        <span class="layui-badge layui-bg-black">Generating image... Since downloading image resources is required, this may take some time. If there is no response for a while, please try again multiple times.</span>
                    </div>
                    
                    <!-- end chunk: data processing operations -->
                </div>
            </div>

            <!-- chunk result show -->
            <div class="layui-card rccc" id="usercontainer" style="display: none;">
                <!-- usercontainer 默认隐藏，在数据处理完成后会有js调起显示 -->
                <div class="layui-card-header">Data Processing Results</div>
                <div class="layui-card-body">
                    <h3>User Information:</h3>
                    <!-- chunk: userinfo -->
                     <h4 id="userInfo"></h3>
                    <!-- end chunk: userinfo -->
                    <hr/>
                    <h3>Chart:</h3>
                    <button class="layui-btn layui-btn-primary layui-border-green" onclick="javascript:changeColumns(1);">add col</button>
                    <button class="layui-btn layui-btn-primary layui-border-green" onclick="javascript:changeColumns(-1);">remove col</button>
                    <br>
                    <hr>
                    <!-- chunk: res container -->
                    <div class="container" id="output"></div>
                    <!-- end chunk: res container -->
                </div>
            </div>
            <!-- end chunk result show-->
        </div>
    </div>
</body>
</html>